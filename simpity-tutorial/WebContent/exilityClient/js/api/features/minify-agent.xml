<?xml version="1.0" encoding="UTF-8"?>
<project name="exilityClient" default="minify">
	<property name="jar.dir" value="d:/jars" />
	<property name="jscompjar" location="${jar.dir}/google-closure-compiler.jar" />
	 <taskdef name="jscomp" 
	 		  classname="com.google.javascript.jscomp.ant.CompileTask"
	 		  classpath="${jscompjar}"
           />
	
	<target name="minify" >
	    <description>Create exilityAgent.js and exilityAgent.min.js </description>
	    <echo>Concatenating javascript...</echo>
	    <concat destfile="../exilityAgent.js">
	    	<filelist dir=".">
	            <file name="dataCollection.js" />
	            <file name="agent.js" />
	        </filelist>
	    </concat>
	 
	    <echo>compressing using the Closure Compiler...</echo>
	    <jscomp compilationLevel="simple" 
	    		warning="quiet" 
	    		debug="false" 
	    		output="../exilityAgent.min.js">
	        <sources dir="../">
	            <file name="exilityAgent.js" />
	        </sources>
	    </jscomp>
	    <echo>Finished</echo>
	
	</target>
</project>